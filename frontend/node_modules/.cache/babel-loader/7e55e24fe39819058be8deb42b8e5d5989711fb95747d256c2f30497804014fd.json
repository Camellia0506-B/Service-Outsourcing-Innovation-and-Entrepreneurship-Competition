{"ast":null,"code":"'use strict';\n\nrequire(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/es.iterator.constructor.js\");\nrequire(\"core-js/modules/es.iterator.filter.js\");\nrequire(\"core-js/modules/es.iterator.map.js\");\nrequire(\"core-js/modules/es.iterator.reduce.js\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar util = require('../util.js');\nvar tokens = require('../tokens.js');\nvar index = require('../../../../hooks/use-namespace/index.js');\nvar shared = require('@vue/shared');\nfunction useStyles(props) {\n  const parent = vue.inject(tokens.TABLE_INJECTION_KEY);\n  const ns = index.useNamespace(\"table\");\n  const getRowStyle = (row, rowIndex) => {\n    const rowStyle = parent == null ? void 0 : parent.props.rowStyle;\n    if (shared.isFunction(rowStyle)) {\n      return rowStyle.call(null, {\n        row,\n        rowIndex\n      });\n    }\n    return rowStyle || null;\n  };\n  const getRowClass = (row, rowIndex) => {\n    const classes = [ns.e(\"row\")];\n    if ((parent == null ? void 0 : parent.props.highlightCurrentRow) && row === props.store.states.currentRow.value) {\n      classes.push(\"current-row\");\n    }\n    if (props.stripe && rowIndex % 2 === 1) {\n      classes.push(ns.em(\"row\", \"striped\"));\n    }\n    const rowClassName = parent == null ? void 0 : parent.props.rowClassName;\n    if (shared.isString(rowClassName)) {\n      classes.push(rowClassName);\n    } else if (shared.isFunction(rowClassName)) {\n      classes.push(rowClassName.call(null, {\n        row,\n        rowIndex\n      }));\n    }\n    return classes;\n  };\n  const getCellStyle = (rowIndex, columnIndex, row, column) => {\n    const cellStyle = parent == null ? void 0 : parent.props.cellStyle;\n    let cellStyles = cellStyle != null ? cellStyle : {};\n    if (shared.isFunction(cellStyle)) {\n      cellStyles = cellStyle.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      });\n    }\n    const fixedStyle = util.getFixedColumnOffset(columnIndex, props == null ? void 0 : props.fixed, props.store);\n    util.ensurePosition(fixedStyle, \"left\");\n    util.ensurePosition(fixedStyle, \"right\");\n    return Object.assign({}, cellStyles, fixedStyle);\n  };\n  const getCellClass = (rowIndex, columnIndex, row, column, offset) => {\n    const fixedClasses = util.getFixedColumnsClass(ns.b(), columnIndex, props == null ? void 0 : props.fixed, props.store, void 0, offset);\n    const classes = [column.id, column.align, column.className, ...fixedClasses];\n    const cellClassName = parent == null ? void 0 : parent.props.cellClassName;\n    if (shared.isString(cellClassName)) {\n      classes.push(cellClassName);\n    } else if (shared.isFunction(cellClassName)) {\n      classes.push(cellClassName.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      }));\n    }\n    classes.push(ns.e(\"cell\"));\n    return classes.filter(className => Boolean(className)).join(\" \");\n  };\n  const getSpan = (row, column, rowIndex, columnIndex) => {\n    let rowspan = 1;\n    let colspan = 1;\n    const fn = parent == null ? void 0 : parent.props.spanMethod;\n    if (shared.isFunction(fn)) {\n      const result = fn({\n        row,\n        column,\n        rowIndex,\n        columnIndex\n      });\n      if (shared.isArray(result)) {\n        rowspan = result[0];\n        colspan = result[1];\n      } else if (shared.isObject(result)) {\n        rowspan = result.rowspan;\n        colspan = result.colspan;\n      }\n    }\n    return {\n      rowspan,\n      colspan\n    };\n  };\n  const getColspanRealWidth = (columns, colspan, index) => {\n    if (colspan < 1) {\n      return columns[index].realWidth;\n    }\n    const widthArr = columns.map(({\n      realWidth,\n      width\n    }) => realWidth || width).slice(index, index + colspan);\n    return Number(widthArr.reduce((acc, width) => Number(acc) + Number(width), -1));\n  };\n  return {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth\n  };\n}\nexports[\"default\"] = useStyles;","map":{"version":3,"names":["useStyles","props","parent","vue","inject","tokens","TABLE_INJECTION_KEY","ns","index","useNamespace","getRowStyle","row","rowIndex","rowStyle","shared","isFunction","call","getRowClass","classes","e","highlightCurrentRow","store","states","currentRow","value","push","stripe","em","rowClassName","isString","getCellStyle","columnIndex","column","cellStyle","cellStyles","fixedStyle","util","getFixedColumnOffset","fixed","ensurePosition","Object","assign","getCellClass","offset","fixedClasses","getFixedColumnsClass","b","id","align","className","cellClassName","filter","Boolean","join","getSpan","rowspan","colspan","fn","spanMethod","result","isArray","isObject","getColspanRealWidth","columns","realWidth","widthArr","map","width","slice","Number","reduce","acc"],"sources":["../../../../../../../packages/components/table/src/table-body/styles-helper.ts"],"sourcesContent":["// @ts-nocheck\nimport { inject } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport { isArray, isFunction, isObject, isString } from '@element-plus/utils'\nimport {\n  ensurePosition,\n  getFixedColumnOffset,\n  getFixedColumnsClass,\n} from '../util'\nimport { TABLE_INJECTION_KEY } from '../tokens'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { TableBodyProps } from './defaults'\n\nfunction useStyles<T>(props: Partial<TableBodyProps<T>>) {\n  const parent = inject(TABLE_INJECTION_KEY)\n  const ns = useNamespace('table')\n\n  const getRowStyle = (row: T, rowIndex: number) => {\n    const rowStyle = parent?.props.rowStyle\n    if (isFunction(rowStyle)) {\n      return rowStyle.call(null, {\n        row,\n        rowIndex,\n      })\n    }\n    return rowStyle || null\n  }\n\n  const getRowClass = (row: T, rowIndex: number) => {\n    const classes = [ns.e('row')]\n    if (\n      parent?.props.highlightCurrentRow &&\n      row === props.store.states.currentRow.value\n    ) {\n      classes.push('current-row')\n    }\n\n    if (props.stripe && rowIndex % 2 === 1) {\n      classes.push(ns.em('row', 'striped'))\n    }\n    const rowClassName = parent?.props.rowClassName\n    if (isString(rowClassName)) {\n      classes.push(rowClassName)\n    } else if (isFunction(rowClassName)) {\n      classes.push(\n        rowClassName.call(null, {\n          row,\n          rowIndex,\n        })\n      )\n    }\n    return classes\n  }\n\n  const getCellStyle = (\n    rowIndex: number,\n    columnIndex: number,\n    row: T,\n    column: TableColumnCtx<T>\n  ) => {\n    const cellStyle = parent?.props.cellStyle\n    let cellStyles = cellStyle ?? {}\n    if (isFunction(cellStyle)) {\n      cellStyles = cellStyle.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column,\n      })\n    }\n    const fixedStyle = getFixedColumnOffset(\n      columnIndex,\n      props?.fixed,\n      props.store\n    )\n    ensurePosition(fixedStyle, 'left')\n    ensurePosition(fixedStyle, 'right')\n    return Object.assign({}, cellStyles, fixedStyle)\n  }\n\n  const getCellClass = (\n    rowIndex: number,\n    columnIndex: number,\n    row: T,\n    column: TableColumnCtx<T>,\n    offset: number\n  ) => {\n    const fixedClasses = getFixedColumnsClass(\n      ns.b(),\n      columnIndex,\n      props?.fixed,\n      props.store,\n      undefined,\n      offset\n    )\n    const classes = [column.id, column.align, column.className, ...fixedClasses]\n    const cellClassName = parent?.props.cellClassName\n    if (isString(cellClassName)) {\n      classes.push(cellClassName)\n    } else if (isFunction(cellClassName)) {\n      classes.push(\n        cellClassName.call(null, {\n          rowIndex,\n          columnIndex,\n          row,\n          column,\n        })\n      )\n    }\n    classes.push(ns.e('cell'))\n    return classes.filter((className) => Boolean(className)).join(' ')\n  }\n  const getSpan = (\n    row: T,\n    column: TableColumnCtx<T>,\n    rowIndex: number,\n    columnIndex: number\n  ) => {\n    let rowspan = 1\n    let colspan = 1\n    const fn = parent?.props.spanMethod\n    if (isFunction(fn)) {\n      const result = fn({\n        row,\n        column,\n        rowIndex,\n        columnIndex,\n      })\n      if (isArray(result)) {\n        rowspan = result[0]\n        colspan = result[1]\n      } else if (isObject(result)) {\n        rowspan = result.rowspan\n        colspan = result.colspan\n      }\n    }\n    return { rowspan, colspan }\n  }\n  const getColspanRealWidth = (\n    columns: TableColumnCtx<T>[],\n    colspan: number,\n    index: number\n  ): number => {\n    if (colspan < 1) {\n      return columns[index].realWidth\n    }\n    const widthArr = columns\n      .map(({ realWidth, width }) => realWidth || width)\n      .slice(index, index + colspan)\n    return Number(\n      widthArr.reduce((acc, width) => Number(acc) + Number(width), -1)\n    )\n  }\n\n  return {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth,\n  }\n}\n\nexport default useStyles\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}