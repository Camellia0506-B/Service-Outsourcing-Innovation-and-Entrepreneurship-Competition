{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode } from \"vue\";\nimport _imports_0 from '@/icons/off.svg';\nconst _hoisted_1 = {\n  class: \"big-box\"\n};\nconst _hoisted_2 = {\n  class: \"background-slideshow\"\n};\nconst _hoisted_3 = {\n  class: \"container\"\n};\nconst _hoisted_4 = {\n  class: \"info\"\n};\nconst _hoisted_5 = {\n  class: \"newpwd\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 新增背景轮播层 \"), _createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.images, (img, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: _normalizeClass([\"slide\", {\n        active: $setup.currentSlide === index\n      }]),\n      style: _normalizeStyle({\n        backgroundImage: `url(${img})`\n      })\n    }, null, 6 /* CLASS, STYLE */);\n  }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" 新增包裹容器 \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"a\", {\n    href: \"#\",\n    class: \"close-btn\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.handleCloseClick1 && $options.handleCloseClick1(...args))\n  }, _cache[5] || (_cache[5] = [_createElementVNode(\"img\", {\n    src: _imports_0,\n    alt: \"\"\n  }, null, -1 /* HOISTED */)])), _cache[11] || (_cache[11] = _createElementVNode(\"h1\", null, \"修改密码\", -1 /* HOISTED */)), _createVNode(_component_el_form, null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, [_cache[6] || (_cache[6] = _createElementVNode(\"h3\", null, \"Username:\", -1 /* HOISTED */)), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $data.username,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.username = $event),\n        style: {\n          \"width\": \"240px\"\n        },\n        placeholder: \"用户名\",\n        \"suffix-icon\": $data.User\n      }, null, 8 /* PROPS */, [\"modelValue\", \"suffix-icon\"])]),\n      _: 1 /* STABLE */\n    }), _cache[7] || (_cache[7] = _createElementVNode(\"h3\", null, \"Password:\", -1 /* HOISTED */)), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $data.old_password,\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.old_password = $event),\n        style: {\n          \"width\": \"240px\"\n        },\n        type: \"password\",\n        placeholder: \"旧密码\",\n        \"show-password\": \"\",\n        \"suffix-icon\": $data.Lock\n      }, null, 8 /* PROPS */, [\"modelValue\", \"suffix-icon\"])]),\n      _: 1 /* STABLE */\n    })]), _createElementVNode(\"div\", _hoisted_5, [_cache[8] || (_cache[8] = _createElementVNode(\"h3\", null, \"New Password:\", -1 /* HOISTED */)), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $data.new_password,\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.new_password = $event),\n        style: {\n          \"width\": \"240px\"\n        },\n        type: \"password\",\n        placeholder: \"新密码\",\n        \"show-password\": \"\",\n        \"suffix-icon\": $data.Lock\n      }, null, 8 /* PROPS */, [\"modelValue\", \"suffix-icon\"])]),\n      _: 1 /* STABLE */\n    }), _cache[9] || (_cache[9] = _createElementVNode(\"h3\", null, \"Confirm Password:\", -1 /* HOISTED */)), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $data.comf_password,\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.comf_password = $event),\n        style: {\n          \"width\": \"240px\"\n        },\n        type: \"password\",\n        placeholder: \"确认密码\",\n        \"show-password\": \"\",\n        \"suffix-icon\": $data.Lock\n      }, null, 8 /* PROPS */, [\"modelValue\", \"suffix-icon\"])]),\n      _: 1 /* STABLE */\n    })]), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        round: \"\",\n        onClick: $options.handleSubmit\n      }, {\n        default: _withCtx(() => _cache[10] || (_cache[10] = [_createTextVNode(\"提交更改\")])),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })])]);\n}","map":{"version":3,"names":["_imports_0","class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_Fragment","_renderList","$setup","images","img","index","key","_normalizeClass","active","currentSlide","style","_normalizeStyle","backgroundImage","_hoisted_3","href","onClick","_cache","args","$options","handleCloseClick1","src","alt","_createVNode","_component_el_form","default","_withCtx","_hoisted_4","_component_el_form_item","_component_el_input","modelValue","$data","username","$event","placeholder","User","_","old_password","type","Lock","_hoisted_5","new_password","comf_password","_component_el_button","round","handleSubmit","_createTextVNode"],"sources":["D:\\Projects\\Service-Outsourcing-Innovation-and-Entrepreneurship-Competition\\frontend\\src\\views\\ResetPassword.vue"],"sourcesContent":["<template>\r\n    <div class=\"big-box\">\r\n        <!-- 新增背景轮播层 -->\r\n        <div class=\"background-slideshow\">\r\n            <div\r\n                v-for=\"(img, index) in images\"\r\n                :key=\"index\"\r\n                class=\"slide\"\r\n                :class=\"{ active: currentSlide === index }\"\r\n                :style=\"{ backgroundImage: `url(${img})` }\"\r\n            ></div>\r\n        </div>\r\n        <!-- 新增包裹容器 -->\r\n        <div class=\"container\">\r\n            <a href=\"#\" class=\"close-btn\" @click=\"handleCloseClick1\">\r\n                <img src=\"@/icons/off.svg\" alt=\"\" />\r\n            </a>\r\n            <h1>修改密码</h1>\r\n            <el-form>\r\n                <div class=\"info\">\r\n                    <h3>Username:</h3>\r\n                    <el-form-item>\r\n                        <el-input\r\n                            v-model=\"username\"\r\n                            style=\"width: 240px\"\r\n                            placeholder=\"用户名\"\r\n                            :suffix-icon=\"User\"\r\n                        />\r\n                    </el-form-item>\r\n                    <h3>Password:</h3>\r\n                    <el-form-item>\r\n                        <el-input\r\n                            v-model=\"old_password\"\r\n                            style=\"width: 240px\"\r\n                            type=\"password\"\r\n                            placeholder=\"旧密码\"\r\n                            show-password\r\n                            :suffix-icon=\"Lock\"\r\n                        />\r\n                    </el-form-item>\r\n                </div>\r\n                <div class=\"newpwd\">\r\n                    <h3>New Password:</h3>\r\n                    <el-form-item>\r\n                        <el-input\r\n                            v-model=\"new_password\"\r\n                            style=\"width: 240px\"\r\n                            type=\"password\"\r\n                            placeholder=\"新密码\"\r\n                            show-password\r\n                            :suffix-icon=\"Lock\"\r\n                        />\r\n                    </el-form-item>\r\n                    <h3>Confirm Password:</h3>\r\n                    <el-form-item>\r\n                        <el-input\r\n                            v-model=\"comf_password\"\r\n                            style=\"width: 240px\"\r\n                            type=\"password\"\r\n                            placeholder=\"确认密码\"\r\n                            show-password\r\n                            :suffix-icon=\"Lock\"\r\n                        />\r\n                    </el-form-item>\r\n                </div>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" round @click=\"handleSubmit\"\r\n                        >提交更改</el-button\r\n                    >\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { Lock, User } from '@element-plus/icons-vue'\r\nimport { ref, onMounted, onBeforeUnmount } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nexport default {\r\n    methods: {\r\n        // ✅ 添加事件处理器\r\n        handleCloseClick1(e) {\r\n            e.preventDefault()\r\n            // 使用router返回上一页\r\n            // this.$router.go(-1)\r\n\r\n            // 或者指定回退路径\r\n            this.$router.push('/login')\r\n        },\r\n        handleSubmit() {\r\n            if (\r\n                !this.username ||\r\n                !this.old_password ||\r\n                !this.new_password ||\r\n                !this.comf_password\r\n            ) {\r\n                ElMessage.error('请填写完整信息')\r\n                return\r\n            }\r\n\r\n            if (this.new_password !== this.comf_password) {\r\n                ElMessage.error('两次输入的新密码不一致')\r\n                return\r\n            }\r\n\r\n            if (!this.validatePassword(this.new_password)) {\r\n                ElMessage.error('密码需包含大小写字母和数字，长度6-16位')\r\n                return\r\n            }\r\n\r\n            if (this.new_password === this.old_password) {\r\n                ElMessage.error('新密码不能与旧密码相同')\r\n                return\r\n            }\r\n\r\n            // 这里是调用修改密码API的示例\r\n            console.log('提交修改:', {\r\n                username: this.username,\r\n                old_password: this.old_password,\r\n                new_password: this.new_password\r\n            })\r\n\r\n            ElMessage.success('密码修改成功')\r\n            this.$router.push('/login')\r\n        },\r\n        validatePassword(password) {\r\n            const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[^]{6,16}$/\r\n            return regex.test(password)\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            Lock,\r\n            User,\r\n            username: '',\r\n            old_password: '',\r\n            new_password: '',\r\n            comf_password: ''\r\n        }\r\n    },\r\n    setup() {\r\n        const images = [\r\n            'images/image-1.jpg',\r\n            'images/image-2.jpg',\r\n            'images/image-3.jpg',\r\n            'images/image-4.jpg',\r\n            'images/image-5.jpg',\r\n            'images/image-6.jpg'\r\n        ]\r\n        const currentSlide = ref(0)\r\n        let timer = null\r\n\r\n        // 预加载所有图片\r\n        const preloadImages = () => {\r\n            images.forEach(img => {\r\n                new Image().src = img\r\n            })\r\n        }\r\n\r\n        const startSlideshow = () => {\r\n            timer = setInterval(() => {\r\n                currentSlide.value = (currentSlide.value + 1) % images.length\r\n            }, 8000) // 总动画时间与CSS动画时长一致\r\n        }\r\n\r\n        onMounted(() => {\r\n            preloadImages()\r\n            startSlideshow()\r\n        })\r\n\r\n        onBeforeUnmount(() => {\r\n            clearInterval(timer)\r\n        })\r\n\r\n        return {\r\n            images,\r\n            currentSlide,\r\n            ElMessage\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n* {\r\n    /* 去除浏览器默认内外边距 */\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n}\r\n\r\na {\r\n    text-decoration: none;\r\n}\r\n\r\n/* 去除input的轮廓 */\r\ninput {\r\n    outline: none;\r\n}\r\n\r\n.big-box {\r\n    position: relative;\r\n    justify-content: center;\r\n    /* align-items: center; */\r\n    /* 溢出隐藏 */\r\n    min-height: 100vh;\r\n    overflow-x: hidden;\r\n    overflow-y: hidden;\r\n    display: flex;\r\n    /* background: #f0f2f5; */\r\n}\r\n\r\n.background-slideshow {\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 0;\r\n}\r\n\r\n.slide {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-size: cover;\r\n    background-position: center;\r\n    opacity: 0;\r\n    transform: scale(1);\r\n    transition: opacity 2s ease-in-out;\r\n    /* animation: zoomIn 8s linear forwards;\r\n  filter: brightness(0.9); */\r\n    z-index: 0;\r\n}\r\n\r\n.slide.active {\r\n    opacity: 1;\r\n    z-index: 1;\r\n    animation: zoomIn 8s linear forwards;\r\n}\r\n\r\n@keyframes zoomIn {\r\n    from {\r\n        transform: scale(1);\r\n    }\r\n    to {\r\n        transform: scale(1.04); /* 放大8% */\r\n    }\r\n}\r\n\r\n.container {\r\n    position: relative;\r\n    margin: auto auto;\r\n    height: 350px;\r\n    width: 800px;\r\n    z-index: 1;\r\n    border-radius: 10px;\r\n    background-color: #fff;\r\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n/* 标题样式 */\r\n.container h1 {\r\n    z-index: 3;\r\n    text-align: center;\r\n    color: #fb7299;\r\n    font-size: 28px;\r\n    margin-top: 20px;\r\n    margin-bottom: 40px;\r\n    font-family: '字由点字典黑';\r\n}\r\n\r\n.container h3 {\r\n    padding-left: 30px;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n/* 表单布局调整 */\r\n.el-form {\r\n    margin-top: 0px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 24px;\r\n}\r\n\r\n/* 输入框样式优化 */\r\n.el-input {\r\n    width: 80% !important; /* 覆盖行内样式 */\r\n    margin: 0 auto;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.el-input__wrapper {\r\n    border-radius: 20px !important;\r\n    padding: 12px 20px !important;\r\n}\r\n\r\n/* 按钮样式 */\r\n.el-button {\r\n    position: absolute;\r\n    bottom: -220px;\r\n    left: calc(50% - 100px);\r\n    width: 200px;\r\n    height: 40px;\r\n    font-size: 16px;\r\n}\r\n\r\n.container .info {\r\n    position: absolute;\r\n    left: 0;\r\n    width: 50%;\r\n    height: 45%;\r\n    border-right: 3px dashed gray;\r\n}\r\n\r\n.container .newpwd {\r\n    position: absolute;\r\n    right: 0;\r\n    width: 50%;\r\n    height: 45%;\r\n}\r\n\r\n.close-btn {\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 20px;\r\n    display: block;\r\n    width: 20px;\r\n    height: 20px;\r\n    /* border-radius: 50%; */\r\n    /* background-color: pink; */\r\n}\r\n\r\n.close-btn img {\r\n    width: 100%;\r\n}\r\n\r\n/* 在现有样式最后添加媒体查询 */\r\n@media (max-width: 800px) {\r\n    .big-box {\r\n        position: relative;\r\n        align-items: center;\r\n        width: 100vw;\r\n    }\r\n\r\n    .container {\r\n        z-index: 0;\r\n        position: absolute;\r\n        width: 300px;\r\n        height: 450px;\r\n    }\r\n    .container .info,\r\n    .container .newpwd {\r\n        width: 80%;\r\n        left: 10%;\r\n    }\r\n\r\n    .info h3,\r\n    .newpwd h3 {\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    .el-input {\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    .container .info {\r\n        top: 70px;\r\n        border: none;\r\n    }\r\n\r\n    .container .newpwd {\r\n        top: 220px;\r\n        border: none;\r\n    }\r\n\r\n    .el-button {\r\n        height: 30px;\r\n        width: 60%;\r\n        left: 20%;\r\n        bottom: -310px;\r\n    }\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}