{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { userInfoAPI, userPostsAPI, userResourcesAPI, updateProfileAPI } from '@/api/user';\nimport { watch } from 'vue';\nexport default {\n  __name: 'Profile',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n\n    // Êï∞ÊçÆÁä∂ÊÄÅ\n    const userInfo = ref({\n      id: null,\n      username: '',\n      nickname: '',\n      avatar: ''\n    });\n    const stats = ref({\n      follow_count: 0,\n      post_count: 0,\n      resource_count: 0\n    });\n    const posts = ref([]);\n    const resources = ref([]);\n    const activeTab = ref('posts');\n    const loading = ref(false);\n    const showEditModal = ref(false);\n    const updating = ref(false);\n\n    // ÁºñËæëË°®Âçï\n    const editForm = ref({\n      nickname: ''\n    });\n\n    // Â§¥ÂÉèÁõ∏ÂÖ≥\n    const avatarInput = ref(null);\n    const newAvatarFile = ref(null);\n\n    // Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ\n    const fetchUserInfo = async () => {\n      try {\n        const userId = localStorage.getItem('user_id') || 5001;\n        const res = await userInfoAPI(userId);\n        if (res.code === 200) {\n          userInfo.value = res.data.user_info;\n          stats.value = res.data.stats;\n          editForm.value.nickname = res.data.user_info.nickname;\n        }\n      } catch (error) {\n        console.error('Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØÂ§±Ë¥•:', error);\n        alert('Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØÂ§±Ë¥•');\n      }\n    };\n\n    // Ëé∑ÂèñÂ∏ñÂ≠êÂàóË°®\n    const fetchPosts = async () => {\n      loading.value = true;\n      try {\n        const userId = localStorage.getItem('user_id') || 5001;\n        const res = await userPostsAPI(userId);\n        if (res.code === 200) {\n          posts.value = res.data;\n        }\n      } catch (error) {\n        console.error('Ëé∑ÂèñÂ∏ñÂ≠êÂàóË°®Â§±Ë¥•:', error);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // Ëé∑ÂèñËµÑÊñôÂàóË°®\n    const fetchResources = async () => {\n      loading.value = true;\n      try {\n        const userId = localStorage.getItem('user_id') || 5001;\n        const res = await userResourcesAPI(userId);\n        if (res.code === 200) {\n          resources.value = res.data;\n        }\n      } catch (error) {\n        console.error('Ëé∑ÂèñËµÑÊñôÂàóË°®Â§±Ë¥•:', error);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // Â§¥ÂÉèÁõ∏ÂÖ≥Â§ÑÁêÜ\n    const handleAvatarClick = () => {\n      avatarInput.value.click();\n    };\n    const handleAvatarChange = event => {\n      const file = event.target.files[0];\n      if (file) {\n        newAvatarFile.value = file;\n        // È¢ÑËßàÂ§¥ÂÉè\n        const reader = new FileReader();\n        reader.onload = e => {\n          userInfo.value.avatar = e.target.result;\n        };\n        reader.readAsDataURL(file);\n      }\n    };\n    const handleImageError = e => {\n      e.target.style.display = 'none';\n    };\n\n    // Êõ¥Êñ∞‰∏™‰∫∫ËµÑÊñô\n    const handleUpdateProfile = async () => {\n      updating.value = true;\n      try {\n        const userId = localStorage.getItem('user_id') || 5001;\n        const res = await updateProfileAPI({\n          user_id: userId,\n          nickname: editForm.value.nickname,\n          avatarFile: newAvatarFile.value\n        });\n        if (res.code === 200) {\n          alert('Êõ¥Êñ∞ÊàêÂäü');\n          showEditModal.value = false;\n          newAvatarFile.value = null;\n          await fetchUserInfo();\n        }\n      } catch (error) {\n        console.error('Êõ¥Êñ∞Â§±Ë¥•:', error);\n        alert('Êõ¥Êñ∞Â§±Ë¥•ÔºåËØ∑ÈáçËØï');\n      } finally {\n        updating.value = false;\n      }\n    };\n\n    // Ëé∑ÂèñÁî®Êà∑ÂêçÈ¶ñÂ≠óÊØç\n    const getInitials = name => {\n      if (!name) return '?';\n      return name.split(' ').map(n => n.charAt(0)).join('').toUpperCase().slice(0, 2);\n    };\n\n    // Ë∑≥ËΩ¨Âà∞Â∏ñÂ≠êËØ¶ÊÉÖ\n    const goToPost = postId => {\n      router.push(`/main/posts/detail/${postId}`);\n    };\n\n    // ‰∏ãËΩΩËµÑÊñô\n    const downloadResource = resource => {\n      if (!resource) return;\n      const url = (resource.file_url || resource.url || '').trim();\n      if (!url) {\n        alert('Áº∫Â∞ëÊñá‰ª∂Âú∞ÂùÄ file_urlÔºåÊó†Ê≥ï‰∏ãËΩΩ');\n        console.log('resource=', resource);\n        return;\n      }\n\n      // ÂÖºÂÆπÂêéÁ´ØËøîÂõû \"/static/xxx\" ËøôÁßçÁõ∏ÂØπË∑ØÂæÑ\n      if (/^https?:\\/\\//i.test(url)) {\n        window.open(url, '_blank');\n      } else {\n        // Â¶ÇÊûú‰Ω† http.js ÈáåÊúâ baseURLÔºåËøôÈáåÁî®ÂÆÉÊãº‰∏Ä‰∏ãÊõ¥Á®≥\n        // ‰∏çÁü•ÈÅì baseURL ÁöÑÊÉÖÂÜµ‰∏ãÔºåÁî®ÂΩìÂâçÂüüÂêçÊãº\n        const fullUrl = `${window.location.origin}${url.startsWith('/') ? '' : '/'}${url}`;\n        window.open(fullUrl, '_blank');\n      }\n    };\n\n    // ÈÄÄÂá∫ÁôªÂΩï\n    const handleLogout = () => {\n      if (!confirm('Á°ÆÂÆöË¶ÅÈÄÄÂá∫ÁôªÂΩïÂêóÔºü')) return;\n      localStorage.clear();\n      router.push('/login');\n    };\n\n    // ÁõëÂê¨Ê†áÁ≠æÂàáÊç¢\n    const handleTabChange = () => {\n      if (activeTab.value === 'posts' && posts.value.length === 0) {\n        fetchPosts();\n      } else if (activeTab.value === 'resources' && resources.value.length === 0) {\n        fetchResources();\n      }\n    };\n\n    // È°µÈù¢Âä†ËΩΩÊó∂Ëé∑ÂèñÊï∞ÊçÆ\n    onMounted(async () => {\n      await fetchUserInfo();\n      await fetchPosts();\n    });\n\n    // ÁõëÂê¨Ê†áÁ≠æÂàáÊç¢\n    watch(activeTab, handleTabChange);\n    const __returned__ = {\n      router,\n      userInfo,\n      stats,\n      posts,\n      resources,\n      activeTab,\n      loading,\n      showEditModal,\n      updating,\n      editForm,\n      avatarInput,\n      newAvatarFile,\n      fetchUserInfo,\n      fetchPosts,\n      fetchResources,\n      handleAvatarClick,\n      handleAvatarChange,\n      handleImageError,\n      handleUpdateProfile,\n      getInitials,\n      goToPost,\n      downloadResource,\n      handleLogout,\n      handleTabChange,\n      ref,\n      onMounted,\n      get useRouter() {\n        return useRouter;\n      },\n      get userInfoAPI() {\n        return userInfoAPI;\n      },\n      get userPostsAPI() {\n        return userPostsAPI;\n      },\n      get userResourcesAPI() {\n        return userResourcesAPI;\n      },\n      get updateProfileAPI() {\n        return updateProfileAPI;\n      },\n      watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","useRouter","userInfoAPI","userPostsAPI","userResourcesAPI","updateProfileAPI","watch","router","userInfo","id","username","nickname","avatar","stats","follow_count","post_count","resource_count","posts","resources","activeTab","loading","showEditModal","updating","editForm","avatarInput","newAvatarFile","fetchUserInfo","userId","localStorage","getItem","res","code","value","data","user_info","error","console","alert","fetchPosts","fetchResources","handleAvatarClick","click","handleAvatarChange","event","file","target","files","reader","FileReader","onload","e","result","readAsDataURL","handleImageError","style","display","handleUpdateProfile","user_id","avatarFile","getInitials","name","split","map","n","charAt","join","toUpperCase","slice","goToPost","postId","push","downloadResource","resource","url","file_url","trim","log","test","window","open","fullUrl","location","origin","startsWith","handleLogout","confirm","clear","handleTabChange","length"],"sources":["D:/Projects/Service-Outsourcing-Innovation-and-Entrepreneurship-Competition/frontend/src/views/Profile.vue"],"sourcesContent":["<template>\r\n    <div class=\"profile-container\">\r\n        <!-- Áî®Êà∑‰ø°ÊÅØÂ§¥ÈÉ® -->\r\n        <div class=\"profile-header\">\r\n            <div class=\"avatar-container\">\r\n                <img\r\n                    :src=\"userInfo.avatar\"\r\n                    alt=\"User avatar\"\r\n                    class=\"avatar\"\r\n                    v-if=\"userInfo.avatar\"\r\n                    @error=\"handleImageError\"\r\n                />\r\n                <div class=\"avatar-placeholder\" v-else>\r\n                    {{ getInitials(userInfo.nickname || userInfo.username) }}\r\n                </div>\r\n                <label class=\"avatar-edit-btn\" @click=\"handleAvatarClick\">\r\n                    <input\r\n                        type=\"file\"\r\n                        ref=\"avatarInput\"\r\n                        accept=\"image/*\"\r\n                        @change=\"handleAvatarChange\"\r\n                        style=\"display: none\"\r\n                    />\r\n                    üì∑\r\n                </label>\r\n            </div>\r\n            <div class=\"user-info\">\r\n                <h1 class=\"username\">\r\n                    {{ userInfo.nickname }}\r\n                </h1>\r\n                <div class=\"usn\">@{{ userInfo.username }}</div>\r\n                <div class=\"user-stats\">\r\n                    <div class=\"stat-item\">\r\n                        <span class=\"stat-value\">{{ stats.follow_count }}</span>\r\n                        <span class=\"stat-label\">ÂÖ≥Ê≥®</span>\r\n                    </div>\r\n                    <div class=\"stat-item\">\r\n                        <span class=\"stat-value\">{{ stats.post_count }}</span>\r\n                        <span class=\"stat-label\">Â∏ñÂ≠ê</span>\r\n                    </div>\r\n                    <div class=\"stat-item\">\r\n                        <span class=\"stat-value\">{{\r\n                            stats.resource_count\r\n                        }}</span>\r\n                        <span class=\"stat-label\">ËµÑÊñô</span>\r\n                    </div>\r\n                </div>\r\n                <button class=\"edit-profile-btn\" @click=\"showEditModal = true\">\r\n                    ÁºñËæëËµÑÊñô\r\n                </button>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Ê†áÁ≠æÈ°µÂàáÊç¢ -->\r\n        <div class=\"tabs\">\r\n            <button\r\n                class=\"tab-btn\"\r\n                :class=\"{ active: activeTab === 'posts' }\"\r\n                @click=\"activeTab = 'posts'\"\r\n            >\r\n                ÊàëÁöÑÂ∏ñÂ≠ê\r\n            </button>\r\n            <button\r\n                class=\"tab-btn\"\r\n                :class=\"{ active: activeTab === 'resources' }\"\r\n                @click=\"activeTab = 'resources'\"\r\n            >\r\n                ÊàëÁöÑËµÑÊñô\r\n            </button>\r\n        </div>\r\n\r\n        <!-- ÂÜÖÂÆπÂå∫Âüü -->\r\n        <div class=\"content-area\">\r\n            <!-- Âä†ËΩΩÁä∂ÊÄÅ -->\r\n            <div v-if=\"loading\" class=\"loading\">Âä†ËΩΩ‰∏≠...</div>\r\n\r\n            <!-- ÊàëÁöÑÂ∏ñÂ≠ê -->\r\n            <div v-else-if=\"activeTab === 'posts'\" class=\"posts-list\">\r\n                <div v-if=\"posts.length === 0\" class=\"empty-state\">\r\n                    ÊöÇÊó†Â∏ñÂ≠ê\r\n                </div>\r\n                <div\r\n                    v-else\r\n                    v-for=\"post in posts\"\r\n                    :key=\"post.id\"\r\n                    class=\"post-card\"\r\n                    @click=\"goToPost(post.id)\"\r\n                >\r\n                    <h3 class=\"post-title\">{{ post.title }}</h3>\r\n                    <p class=\"post-intro\">{{ post.intro }}</p>\r\n                    <div class=\"post-meta\">\r\n                        <span>üëÅ {{ post.view_count }} ÊµèËßà</span>\r\n                        <span>üí¨ {{ post.reply_count }} ÂõûÂ§ç</span>\r\n                        <span>üìÖ {{ post.created_at }}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- ÊàëÁöÑËµÑÊñô -->\r\n            <div v-else-if=\"activeTab === 'resources'\" class=\"resources-list\">\r\n                <div v-if=\"resources.length === 0\" class=\"empty-state\">\r\n                    ÊöÇÊó†ËµÑÊñô\r\n                </div>\r\n                <div\r\n                    v-else\r\n                    v-for=\"resource in resources\"\r\n                    :key=\"resource.id\"\r\n                    class=\"resource-card\"\r\n                >\r\n                    <div class=\"resource-icon\">üìÑ</div>\r\n                    <div class=\"resource-info\">\r\n                        <h4 class=\"resource-name\">{{ resource.file_name }}</h4>\r\n                        <div class=\"resource-meta\">\r\n                            <span>{{ resource.file_size }}</span>\r\n                            <span>{{ resource.created_at }}</span>\r\n                        </div>\r\n                    </div>\r\n                    <button\r\n                        class=\"download-btn\"\r\n                        @click.stop=\"downloadResource(resource)\"\r\n                    >\r\n                        ‰∏ãËΩΩ\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- ÈÄÄÂá∫ÁôªÂΩïÊåâÈíÆ -->\r\n        <div class=\"logout-container\">\r\n            <button class=\"logout-btn\" @click=\"handleLogout\">ÈÄÄÂá∫ÁôªÂΩï</button>\r\n        </div>\r\n\r\n        <!-- ÁºñËæëËµÑÊñôÂºπÁ™ó -->\r\n        <div\r\n            v-if=\"showEditModal\"\r\n            class=\"modal-overlay\"\r\n            @click.self=\"showEditModal = false\"\r\n        >\r\n            <div class=\"modal-content\">\r\n                <h2>ÁºñËæëËµÑÊñô</h2>\r\n                <form @submit.prevent=\"handleUpdateProfile\">\r\n                    <div class=\"form-group\">\r\n                        <label>ÊòµÁß∞</label>\r\n                        <input\r\n                            v-model=\"editForm.nickname\"\r\n                            type=\"text\"\r\n                            placeholder=\"ËØ∑ËæìÂÖ•ÊòµÁß∞\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div class=\"form-actions\">\r\n                        <button\r\n                            type=\"button\"\r\n                            @click=\"showEditModal = false\"\r\n                            class=\"cancel-btn\"\r\n                        >\r\n                            ÂèñÊ∂à\r\n                        </button>\r\n                        <button\r\n                            type=\"submit\"\r\n                            class=\"save-btn\"\r\n                            :disabled=\"updating\"\r\n                        >\r\n                            {{ updating ? '‰øùÂ≠ò‰∏≠...' : '‰øùÂ≠ò' }}\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport {\r\n    userInfoAPI,\r\n    userPostsAPI,\r\n    userResourcesAPI,\r\n    updateProfileAPI\r\n} from '@/api/user'\r\n\r\nconst router = useRouter()\r\n\r\n// Êï∞ÊçÆÁä∂ÊÄÅ\r\nconst userInfo = ref({\r\n    id: null,\r\n    username: '',\r\n    nickname: '',\r\n    avatar: ''\r\n})\r\n\r\nconst stats = ref({\r\n    follow_count: 0,\r\n    post_count: 0,\r\n    resource_count: 0\r\n})\r\n\r\nconst posts = ref([])\r\nconst resources = ref([])\r\nconst activeTab = ref('posts')\r\nconst loading = ref(false)\r\nconst showEditModal = ref(false)\r\nconst updating = ref(false)\r\n\r\n// ÁºñËæëË°®Âçï\r\nconst editForm = ref({\r\n    nickname: ''\r\n})\r\n\r\n// Â§¥ÂÉèÁõ∏ÂÖ≥\r\nconst avatarInput = ref(null)\r\nconst newAvatarFile = ref(null)\r\n\r\n// Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ\r\nconst fetchUserInfo = async () => {\r\n    try {\r\n        const userId = localStorage.getItem('user_id') || 5001\r\n        const res = await userInfoAPI(userId)\r\n\r\n        if (res.code === 200) {\r\n            userInfo.value = res.data.user_info\r\n            stats.value = res.data.stats\r\n            editForm.value.nickname = res.data.user_info.nickname\r\n        }\r\n    } catch (error) {\r\n        console.error('Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØÂ§±Ë¥•:', error)\r\n        alert('Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØÂ§±Ë¥•')\r\n    }\r\n}\r\n\r\n// Ëé∑ÂèñÂ∏ñÂ≠êÂàóË°®\r\nconst fetchPosts = async () => {\r\n    loading.value = true\r\n    try {\r\n        const userId = localStorage.getItem('user_id') || 5001\r\n        const res = await userPostsAPI(userId)\r\n\r\n        if (res.code === 200) {\r\n            posts.value = res.data\r\n        }\r\n    } catch (error) {\r\n        console.error('Ëé∑ÂèñÂ∏ñÂ≠êÂàóË°®Â§±Ë¥•:', error)\r\n    } finally {\r\n        loading.value = false\r\n    }\r\n}\r\n\r\n// Ëé∑ÂèñËµÑÊñôÂàóË°®\r\nconst fetchResources = async () => {\r\n    loading.value = true\r\n    try {\r\n        const userId = localStorage.getItem('user_id') || 5001\r\n        const res = await userResourcesAPI(userId)\r\n\r\n        if (res.code === 200) {\r\n            resources.value = res.data\r\n        }\r\n    } catch (error) {\r\n        console.error('Ëé∑ÂèñËµÑÊñôÂàóË°®Â§±Ë¥•:', error)\r\n    } finally {\r\n        loading.value = false\r\n    }\r\n}\r\n\r\n// Â§¥ÂÉèÁõ∏ÂÖ≥Â§ÑÁêÜ\r\nconst handleAvatarClick = () => {\r\n    avatarInput.value.click()\r\n}\r\n\r\nconst handleAvatarChange = event => {\r\n    const file = event.target.files[0]\r\n    if (file) {\r\n        newAvatarFile.value = file\r\n        // È¢ÑËßàÂ§¥ÂÉè\r\n        const reader = new FileReader()\r\n        reader.onload = e => {\r\n            userInfo.value.avatar = e.target.result\r\n        }\r\n        reader.readAsDataURL(file)\r\n    }\r\n}\r\n\r\nconst handleImageError = e => {\r\n    e.target.style.display = 'none'\r\n}\r\n\r\n// Êõ¥Êñ∞‰∏™‰∫∫ËµÑÊñô\r\nconst handleUpdateProfile = async () => {\r\n    updating.value = true\r\n    try {\r\n        const userId = localStorage.getItem('user_id') || 5001\r\n        const res = await updateProfileAPI({\r\n            user_id: userId,\r\n            nickname: editForm.value.nickname,\r\n            avatarFile: newAvatarFile.value\r\n        })\r\n\r\n        if (res.code === 200) {\r\n            alert('Êõ¥Êñ∞ÊàêÂäü')\r\n            showEditModal.value = false\r\n            newAvatarFile.value = null\r\n            await fetchUserInfo()\r\n        }\r\n    } catch (error) {\r\n        console.error('Êõ¥Êñ∞Â§±Ë¥•:', error)\r\n        alert('Êõ¥Êñ∞Â§±Ë¥•ÔºåËØ∑ÈáçËØï')\r\n    } finally {\r\n        updating.value = false\r\n    }\r\n}\r\n\r\n// Ëé∑ÂèñÁî®Êà∑ÂêçÈ¶ñÂ≠óÊØç\r\nconst getInitials = name => {\r\n    if (!name) return '?'\r\n    return name\r\n        .split(' ')\r\n        .map(n => n.charAt(0))\r\n        .join('')\r\n        .toUpperCase()\r\n        .slice(0, 2)\r\n}\r\n\r\n// Ë∑≥ËΩ¨Âà∞Â∏ñÂ≠êËØ¶ÊÉÖ\r\nconst goToPost = postId => {\r\n    router.push(`/main/posts/detail/${postId}`)\r\n}\r\n\r\n// ‰∏ãËΩΩËµÑÊñô\r\nconst downloadResource = resource => {\r\n    if (!resource) return\r\n\r\n    const url = (resource.file_url || resource.url || '').trim()\r\n    if (!url) {\r\n        alert('Áº∫Â∞ëÊñá‰ª∂Âú∞ÂùÄ file_urlÔºåÊó†Ê≥ï‰∏ãËΩΩ')\r\n        console.log('resource=', resource)\r\n        return\r\n    }\r\n\r\n    // ÂÖºÂÆπÂêéÁ´ØËøîÂõû \"/static/xxx\" ËøôÁßçÁõ∏ÂØπË∑ØÂæÑ\r\n    if (/^https?:\\/\\//i.test(url)) {\r\n        window.open(url, '_blank')\r\n    } else {\r\n        // Â¶ÇÊûú‰Ω† http.js ÈáåÊúâ baseURLÔºåËøôÈáåÁî®ÂÆÉÊãº‰∏Ä‰∏ãÊõ¥Á®≥\r\n        // ‰∏çÁü•ÈÅì baseURL ÁöÑÊÉÖÂÜµ‰∏ãÔºåÁî®ÂΩìÂâçÂüüÂêçÊãº\r\n        const fullUrl = `${window.location.origin}${\r\n            url.startsWith('/') ? '' : '/'\r\n        }${url}`\r\n        window.open(fullUrl, '_blank')\r\n    }\r\n}\r\n\r\n// ÈÄÄÂá∫ÁôªÂΩï\r\nconst handleLogout = () => {\r\n    if (!confirm('Á°ÆÂÆöË¶ÅÈÄÄÂá∫ÁôªÂΩïÂêóÔºü')) return\r\n    localStorage.clear()\r\n    router.push('/login')\r\n}\r\n\r\n// ÁõëÂê¨Ê†áÁ≠æÂàáÊç¢\r\nconst handleTabChange = () => {\r\n    if (activeTab.value === 'posts' && posts.value.length === 0) {\r\n        fetchPosts()\r\n    } else if (\r\n        activeTab.value === 'resources' &&\r\n        resources.value.length === 0\r\n    ) {\r\n        fetchResources()\r\n    }\r\n}\r\n\r\n// È°µÈù¢Âä†ËΩΩÊó∂Ëé∑ÂèñÊï∞ÊçÆ\r\nonMounted(async () => {\r\n    await fetchUserInfo()\r\n    await fetchPosts()\r\n})\r\n\r\n// ÁõëÂê¨Ê†áÁ≠æÂàáÊç¢\r\nimport { watch } from 'vue'\r\nwatch(activeTab, handleTabChange)\r\n</script>\r\n\r\n<style scoped>\r\n.usn {\r\n    color: gray;\r\n    font-size: 18px;\r\n    margin-top: -15px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.profile-container {\r\n    max-width: 800px;\r\n    margin: 0 auto;\r\n    margin-top: 60px;\r\n    min-height: 100vh;\r\n    padding: 2rem 1.5rem;\r\n    background-color: var(--home-bg);\r\n}\r\n\r\n/* Áî®Êà∑‰ø°ÊÅØÂ§¥ÈÉ® */\r\n.profile-header {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 2.5rem 2rem;\r\n    background-color: var(--card-bg);\r\n    border-radius: 12px;\r\n    box-shadow: var(--box-shadow);\r\n    margin-bottom: 2rem;\r\n}\r\n\r\n.avatar-container {\r\n    position: relative;\r\n    margin-bottom: 1rem;\r\n}\r\n\r\n.avatar {\r\n    width: 100px;\r\n    height: 100px;\r\n    border-radius: 50%;\r\n    object-fit: cover;\r\n    border: 3px solid var(--border-color);\r\n}\r\n\r\n.avatar-placeholder {\r\n    width: 100px;\r\n    height: 100px;\r\n    border-radius: 50%;\r\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n    color: white;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-size: 2.5rem;\r\n    font-weight: bold;\r\n}\r\n\r\n.avatar-edit-btn {\r\n    position: absolute;\r\n    bottom: 0;\r\n    right: -5px;\r\n    width: 32px;\r\n    height: 32px;\r\n    border-radius: 50%;\r\n    background-color: var(--calendar-selected-bg);\r\n    color: white;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    cursor: pointer;\r\n    font-size: 1rem;\r\n    transition: transform 0.2s;\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.avatar-edit-btn:hover {\r\n    transform: scale(1.1);\r\n}\r\n\r\n.user-info {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 100%;\r\n}\r\n\r\n.username {\r\n    font-size: 1.5rem;\r\n    margin: 0 0 1rem 0;\r\n    color: var(--text-primary);\r\n    font-weight: 600;\r\n}\r\n\r\n.user-stats {\r\n    display: flex;\r\n    gap: 3rem;\r\n    margin-bottom: 1.5rem;\r\n}\r\n\r\n.stat-item {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    min-width: 60px;\r\n}\r\n\r\n.stat-value {\r\n    font-size: 1.5rem;\r\n    font-weight: bold;\r\n    color: var(--time-display-color);\r\n    margin-bottom: 0.25rem;\r\n}\r\n\r\n.stat-label {\r\n    font-size: 0.85rem;\r\n    color: var(--text-tertiary);\r\n}\r\n\r\n.edit-profile-btn {\r\n    padding: 0.6rem 2rem;\r\n    background-color: var(--calendar-selected-bg);\r\n    color: white;\r\n    border: none;\r\n    border-radius: 20px;\r\n    cursor: pointer;\r\n    font-weight: 600;\r\n    font-size: 0.95rem;\r\n    transition: opacity 0.2s;\r\n}\r\n\r\n.edit-profile-btn:hover {\r\n    opacity: 0.9;\r\n}\r\n\r\n/* Ê†áÁ≠æÈ°µ */\r\n.tabs {\r\n    display: flex;\r\n    gap: 2rem;\r\n    justify-content: center;\r\n    margin-bottom: 2rem;\r\n    border-bottom: 2px solid var(--border-color);\r\n}\r\n\r\n.tab-btn {\r\n    padding: 0.75rem 2rem;\r\n    background: none;\r\n    border: none;\r\n    color: var(--text-tertiary);\r\n    font-size: 1rem;\r\n    font-weight: 600;\r\n    cursor: pointer;\r\n    position: relative;\r\n    transition: color 0.2s;\r\n}\r\n\r\n.tab-btn:hover {\r\n    color: var(--text-secondary);\r\n}\r\n\r\n.tab-btn.active {\r\n    color: var(--calendar-selected-bg);\r\n}\r\n\r\n.tab-btn.active::after {\r\n    content: '';\r\n    position: absolute;\r\n    bottom: -2px;\r\n    left: 0;\r\n    right: 0;\r\n    height: 3px;\r\n    background-color: var(--calendar-selected-bg);\r\n}\r\n\r\n/* ÂÜÖÂÆπÂå∫Âüü */\r\n.content-area {\r\n    min-height: 350px;\r\n}\r\n\r\n.loading {\r\n    text-align: center;\r\n    padding: 3rem;\r\n    color: var(--text-tertiary);\r\n}\r\n\r\n.empty-state {\r\n    text-align: center;\r\n    padding: 4rem 2rem;\r\n    color: var(--text-tertiary);\r\n    font-size: 1rem;\r\n}\r\n\r\n/* Â∏ñÂ≠êÂàóË°® */\r\n.posts-list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 1rem;\r\n}\r\n\r\n.post-card {\r\n    padding: 1.5rem;\r\n    background-color: var(--card-bg);\r\n    border-radius: 8px;\r\n    border: 1px solid var(--border-color);\r\n    cursor: pointer;\r\n    transition: all 0.2s;\r\n}\r\n\r\n.post-card:hover {\r\n    background-color: var(--button-hover);\r\n    transform: translateY(-2px);\r\n    box-shadow: var(--box-shadow);\r\n}\r\n\r\n.post-title {\r\n    font-size: 1.3rem;\r\n    margin: 0 0 0.5rem 0;\r\n    color: var(--text-primary);\r\n}\r\n\r\n.post-intro {\r\n    color: var(--text-secondary);\r\n    margin: 0 0 1rem 0;\r\n    line-height: 1.5;\r\n}\r\n\r\n.post-meta {\r\n    display: flex;\r\n    gap: 1.5rem;\r\n    font-size: 0.9rem;\r\n    color: var(--text-tertiary);\r\n}\r\n\r\n/* ËµÑÊñôÂàóË°® */\r\n.resources-list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 1rem;\r\n}\r\n\r\n.resource-card {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 1rem;\r\n    padding: 1rem;\r\n    background-color: var(--card-bg);\r\n    border-radius: 8px;\r\n    border: 1px solid var(--border-color);\r\n    transition: all 0.2s;\r\n}\r\n\r\n.resource-card:hover {\r\n    background-color: var(--button-hover);\r\n}\r\n\r\n.resource-icon {\r\n    font-size: 2.5rem;\r\n}\r\n\r\n.resource-info {\r\n    flex: 1;\r\n}\r\n\r\n.resource-name {\r\n    margin: 0 0 0.25rem 0;\r\n    color: var(--text-primary);\r\n    font-size: 1.1rem;\r\n}\r\n\r\n.resource-meta {\r\n    display: flex;\r\n    gap: 1rem;\r\n    font-size: 0.9rem;\r\n    color: var(--text-tertiary);\r\n}\r\n\r\n.download-btn {\r\n    padding: 0.5rem 1rem;\r\n    background-color: var(--calendar-selected-bg);\r\n    color: white;\r\n    border: none;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    font-weight: 600;\r\n    transition: opacity 0.2s;\r\n}\r\n\r\n.download-btn:hover {\r\n    opacity: 0.9;\r\n}\r\n\r\n/* ÈÄÄÂá∫ÁôªÂΩï */\r\n.logout-container {\r\n    margin-top: 3rem;\r\n    padding-top: 2rem;\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n\r\n.logout-btn {\r\n    padding: 0.75rem 3rem;\r\n    font-size: 1rem;\r\n    font-weight: 600;\r\n    color: #fff;\r\n    background-color: #ef4444;\r\n    border: none;\r\n    border-radius: 20px;\r\n    cursor: pointer;\r\n    transition: background-color 0.2s;\r\n}\r\n\r\n.logout-btn:hover {\r\n    background-color: #dc2626;\r\n}\r\n\r\n/* ÁºñËæëËµÑÊñôÂºπÁ™ó */\r\n.modal-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    z-index: 1000;\r\n}\r\n\r\n.modal-content {\r\n    background-color: var(--card-bg);\r\n    padding: 2rem;\r\n    border-radius: 12px;\r\n    width: 90%;\r\n    max-width: 400px;\r\n    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.modal-content h2 {\r\n    margin: 0 0 1.5rem 0;\r\n    color: var(--text-primary);\r\n}\r\n\r\n.form-group {\r\n    margin-bottom: 1.5rem;\r\n}\r\n\r\n.form-group label {\r\n    display: block;\r\n    margin-bottom: 0.5rem;\r\n    color: var(--text-secondary);\r\n    font-weight: 600;\r\n}\r\n\r\n.form-group input {\r\n    width: 100%;\r\n    padding: 0.75rem;\r\n    border: 1px solid var(--border-color);\r\n    border-radius: 6px;\r\n    background-color: var(--home-bg);\r\n    color: var(--text-primary);\r\n    font-size: 1rem;\r\n}\r\n\r\n.form-actions {\r\n    display: flex;\r\n    gap: 1rem;\r\n    justify-content: flex-end;\r\n}\r\n\r\n.cancel-btn,\r\n.save-btn {\r\n    padding: 0.75rem 1.5rem;\r\n    border: none;\r\n    border-radius: 6px;\r\n    font-weight: 600;\r\n    cursor: pointer;\r\n    transition: opacity 0.2s;\r\n}\r\n\r\n.cancel-btn {\r\n    background-color: var(--button-hover);\r\n    color: var(--text-primary);\r\n}\r\n\r\n.save-btn {\r\n    background-color: var(--calendar-selected-bg);\r\n    color: white;\r\n}\r\n\r\n.save-btn:disabled {\r\n    opacity: 0.6;\r\n    cursor: not-allowed;\r\n}\r\n\r\n.cancel-btn:hover,\r\n.save-btn:hover:not(:disabled) {\r\n    opacity: 0.9;\r\n}\r\n\r\n/* ÂìçÂ∫îÂºèËÆæËÆ° */\r\n@media (max-width: 768px) {\r\n    .user-stats {\r\n        gap: 2rem;\r\n    }\r\n\r\n    .tabs {\r\n        justify-content: center;\r\n    }\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}