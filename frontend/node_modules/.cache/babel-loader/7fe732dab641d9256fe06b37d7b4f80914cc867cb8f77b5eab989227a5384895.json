{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { Lock, User } from '@element-plus/icons-vue';\nimport { ref, onMounted, onBeforeUnmount } from 'vue';\nimport { ElMessage } from 'element-plus';\nexport default {\n  methods: {\n    // ✅ 添加事件处理器\n    handleCloseClick1(e) {\n      e.preventDefault();\n      // 使用router返回上一页\n      // this.$router.go(-1)\n\n      // 或者指定回退路径\n      this.$router.push('/login');\n    },\n    handleSubmit() {\n      if (!this.username || !this.old_password || !this.new_password || !this.comf_password) {\n        ElMessage.error('请填写完整信息');\n        return;\n      }\n      if (this.new_password !== this.comf_password) {\n        ElMessage.error('两次输入的新密码不一致');\n        return;\n      }\n      if (!this.validatePassword(this.new_password)) {\n        ElMessage.error('密码需包含大小写字母和数字，长度6-16位');\n        return;\n      }\n      if (this.new_password === this.old_password) {\n        ElMessage.error('新密码不能与旧密码相同');\n        return;\n      }\n\n      // 这里是调用修改密码API的示例\n      console.log('提交修改:', {\n        username: this.username,\n        old_password: this.old_password,\n        new_password: this.new_password\n      });\n      ElMessage.success('密码修改成功');\n      this.$router.push('/login');\n    },\n    validatePassword(password) {\n      const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[^]{6,16}$/;\n      return regex.test(password);\n    }\n  },\n  data() {\n    return {\n      Lock,\n      User,\n      username: '',\n      old_password: '',\n      new_password: '',\n      comf_password: ''\n    };\n  },\n  setup() {\n    const images = ['images/image-1.jpg', 'images/image-2.jpg', 'images/image-3.jpg', 'images/image-4.jpg', 'images/image-5.jpg', 'images/image-6.jpg'];\n    const currentSlide = ref(0);\n    let timer = null;\n\n    // 预加载所有图片\n    const preloadImages = () => {\n      images.forEach(img => {\n        new Image().src = img;\n      });\n    };\n    const startSlideshow = () => {\n      timer = setInterval(() => {\n        currentSlide.value = (currentSlide.value + 1) % images.length;\n      }, 8000); // 总动画时间与CSS动画时长一致\n    };\n    onMounted(() => {\n      preloadImages();\n      startSlideshow();\n    });\n    onBeforeUnmount(() => {\n      clearInterval(timer);\n    });\n    return {\n      images,\n      currentSlide,\n      ElMessage\n    };\n  }\n};","map":{"version":3,"names":["Lock","User","ref","onMounted","onBeforeUnmount","ElMessage","methods","handleCloseClick1","e","preventDefault","$router","push","handleSubmit","username","old_password","new_password","comf_password","error","validatePassword","console","log","success","password","regex","test","data","setup","images","currentSlide","timer","preloadImages","forEach","img","Image","src","startSlideshow","setInterval","value","length","clearInterval"],"sources":["D:\\Projects\\Service-Outsourcing-Innovation-and-Entrepreneurship-Competition\\frontend\\src\\views\\ResetPassword.vue"],"sourcesContent":["<template>\r\n    <div class=\"big-box\">\r\n        <!-- 新增背景轮播层 -->\r\n        <div class=\"background-slideshow\">\r\n            <div\r\n                v-for=\"(img, index) in images\"\r\n                :key=\"index\"\r\n                class=\"slide\"\r\n                :class=\"{ active: currentSlide === index }\"\r\n                :style=\"{ backgroundImage: `url(${img})` }\"\r\n            ></div>\r\n        </div>\r\n        <!-- 新增包裹容器 -->\r\n        <div class=\"container\">\r\n            <a href=\"#\" class=\"close-btn\" @click=\"handleCloseClick1\">\r\n                <img src=\"@/icons/off.svg\" alt=\"\" />\r\n            </a>\r\n            <h1>修改密码</h1>\r\n            <el-form>\r\n                <div class=\"info\">\r\n                    <h3>Username:</h3>\r\n                    <el-form-item>\r\n                        <el-input\r\n                            v-model=\"username\"\r\n                            style=\"width: 240px\"\r\n                            placeholder=\"用户名\"\r\n                            :suffix-icon=\"User\"\r\n                        />\r\n                    </el-form-item>\r\n                    <h3>Password:</h3>\r\n                    <el-form-item>\r\n                        <el-input\r\n                            v-model=\"old_password\"\r\n                            style=\"width: 240px\"\r\n                            type=\"password\"\r\n                            placeholder=\"旧密码\"\r\n                            show-password\r\n                            :suffix-icon=\"Lock\"\r\n                        />\r\n                    </el-form-item>\r\n                </div>\r\n                <div class=\"newpwd\">\r\n                    <h3>New Password:</h3>\r\n                    <el-form-item>\r\n                        <el-input\r\n                            v-model=\"new_password\"\r\n                            style=\"width: 240px\"\r\n                            type=\"password\"\r\n                            placeholder=\"新密码\"\r\n                            show-password\r\n                            :suffix-icon=\"Lock\"\r\n                        />\r\n                    </el-form-item>\r\n                    <h3>Confirm Password:</h3>\r\n                    <el-form-item>\r\n                        <el-input\r\n                            v-model=\"comf_password\"\r\n                            style=\"width: 240px\"\r\n                            type=\"password\"\r\n                            placeholder=\"确认密码\"\r\n                            show-password\r\n                            :suffix-icon=\"Lock\"\r\n                        />\r\n                    </el-form-item>\r\n                </div>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" round @click=\"handleSubmit\"\r\n                        >提交更改</el-button\r\n                    >\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { Lock, User } from '@element-plus/icons-vue'\r\nimport { ref, onMounted, onBeforeUnmount } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nexport default {\r\n    methods: {\r\n        // ✅ 添加事件处理器\r\n        handleCloseClick1(e) {\r\n            e.preventDefault()\r\n            // 使用router返回上一页\r\n            // this.$router.go(-1)\r\n\r\n            // 或者指定回退路径\r\n            this.$router.push('/login')\r\n        },\r\n        handleSubmit() {\r\n            if (\r\n                !this.username ||\r\n                !this.old_password ||\r\n                !this.new_password ||\r\n                !this.comf_password\r\n            ) {\r\n                ElMessage.error('请填写完整信息')\r\n                return\r\n            }\r\n\r\n            if (this.new_password !== this.comf_password) {\r\n                ElMessage.error('两次输入的新密码不一致')\r\n                return\r\n            }\r\n\r\n            if (!this.validatePassword(this.new_password)) {\r\n                ElMessage.error('密码需包含大小写字母和数字，长度6-16位')\r\n                return\r\n            }\r\n\r\n            if (this.new_password === this.old_password) {\r\n                ElMessage.error('新密码不能与旧密码相同')\r\n                return\r\n            }\r\n\r\n            // 这里是调用修改密码API的示例\r\n            console.log('提交修改:', {\r\n                username: this.username,\r\n                old_password: this.old_password,\r\n                new_password: this.new_password\r\n            })\r\n\r\n            ElMessage.success('密码修改成功')\r\n            this.$router.push('/login')\r\n        },\r\n        validatePassword(password) {\r\n            const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[^]{6,16}$/\r\n            return regex.test(password)\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            Lock,\r\n            User,\r\n            username: '',\r\n            old_password: '',\r\n            new_password: '',\r\n            comf_password: ''\r\n        }\r\n    },\r\n    setup() {\r\n        const images = [\r\n            'images/image-1.jpg',\r\n            'images/image-2.jpg',\r\n            'images/image-3.jpg',\r\n            'images/image-4.jpg',\r\n            'images/image-5.jpg',\r\n            'images/image-6.jpg'\r\n        ]\r\n        const currentSlide = ref(0)\r\n        let timer = null\r\n\r\n        // 预加载所有图片\r\n        const preloadImages = () => {\r\n            images.forEach(img => {\r\n                new Image().src = img\r\n            })\r\n        }\r\n\r\n        const startSlideshow = () => {\r\n            timer = setInterval(() => {\r\n                currentSlide.value = (currentSlide.value + 1) % images.length\r\n            }, 8000) // 总动画时间与CSS动画时长一致\r\n        }\r\n\r\n        onMounted(() => {\r\n            preloadImages()\r\n            startSlideshow()\r\n        })\r\n\r\n        onBeforeUnmount(() => {\r\n            clearInterval(timer)\r\n        })\r\n\r\n        return {\r\n            images,\r\n            currentSlide,\r\n            ElMessage\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n* {\r\n    /* 去除浏览器默认内外边距 */\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n}\r\n\r\na {\r\n    text-decoration: none;\r\n}\r\n\r\n/* 去除input的轮廓 */\r\ninput {\r\n    outline: none;\r\n}\r\n\r\n.big-box {\r\n    position: relative;\r\n    justify-content: center;\r\n    /* align-items: center; */\r\n    /* 溢出隐藏 */\r\n    min-height: 100vh;\r\n    overflow-x: hidden;\r\n    overflow-y: hidden;\r\n    display: flex;\r\n    /* background: #f0f2f5; */\r\n}\r\n\r\n.background-slideshow {\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 0;\r\n}\r\n\r\n.slide {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-size: cover;\r\n    background-position: center;\r\n    opacity: 0;\r\n    transform: scale(1);\r\n    transition: opacity 2s ease-in-out;\r\n    /* animation: zoomIn 8s linear forwards;\r\n  filter: brightness(0.9); */\r\n    z-index: 0;\r\n}\r\n\r\n.slide.active {\r\n    opacity: 1;\r\n    z-index: 1;\r\n    animation: zoomIn 8s linear forwards;\r\n}\r\n\r\n@keyframes zoomIn {\r\n    from {\r\n        transform: scale(1);\r\n    }\r\n    to {\r\n        transform: scale(1.04); /* 放大8% */\r\n    }\r\n}\r\n\r\n.container {\r\n    position: relative;\r\n    margin: auto auto;\r\n    height: 350px;\r\n    width: 800px;\r\n    z-index: 1;\r\n    border-radius: 10px;\r\n    background-color: #fff;\r\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n/* 标题样式 */\r\n.container h1 {\r\n    z-index: 3;\r\n    text-align: center;\r\n    color: #fb7299;\r\n    font-size: 28px;\r\n    margin-top: 20px;\r\n    margin-bottom: 40px;\r\n    font-family: '字由点字典黑';\r\n}\r\n\r\n.container h3 {\r\n    padding-left: 30px;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n/* 表单布局调整 */\r\n.el-form {\r\n    margin-top: 0px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 24px;\r\n}\r\n\r\n/* 输入框样式优化 */\r\n.el-input {\r\n    width: 80% !important; /* 覆盖行内样式 */\r\n    margin: 0 auto;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.el-input__wrapper {\r\n    border-radius: 20px !important;\r\n    padding: 12px 20px !important;\r\n}\r\n\r\n/* 按钮样式 */\r\n.el-button {\r\n    position: absolute;\r\n    bottom: -220px;\r\n    left: calc(50% - 100px);\r\n    width: 200px;\r\n    height: 40px;\r\n    font-size: 16px;\r\n}\r\n\r\n.container .info {\r\n    position: absolute;\r\n    left: 0;\r\n    width: 50%;\r\n    height: 45%;\r\n    border-right: 3px dashed gray;\r\n}\r\n\r\n.container .newpwd {\r\n    position: absolute;\r\n    right: 0;\r\n    width: 50%;\r\n    height: 45%;\r\n}\r\n\r\n.close-btn {\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 20px;\r\n    display: block;\r\n    width: 20px;\r\n    height: 20px;\r\n    /* border-radius: 50%; */\r\n    /* background-color: pink; */\r\n}\r\n\r\n.close-btn img {\r\n    width: 100%;\r\n}\r\n\r\n/* 在现有样式最后添加媒体查询 */\r\n@media (max-width: 800px) {\r\n    .big-box {\r\n        position: relative;\r\n        align-items: center;\r\n        width: 100vw;\r\n    }\r\n\r\n    .container {\r\n        z-index: 0;\r\n        position: absolute;\r\n        width: 300px;\r\n        height: 450px;\r\n    }\r\n    .container .info,\r\n    .container .newpwd {\r\n        width: 80%;\r\n        left: 10%;\r\n    }\r\n\r\n    .info h3,\r\n    .newpwd h3 {\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    .el-input {\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    .container .info {\r\n        top: 70px;\r\n        border: none;\r\n    }\r\n\r\n    .container .newpwd {\r\n        top: 220px;\r\n        border: none;\r\n    }\r\n\r\n    .el-button {\r\n        height: 30px;\r\n        width: 60%;\r\n        left: 20%;\r\n        bottom: -310px;\r\n    }\r\n}\r\n</style>\r\n"],"mappings":";AA4EA,SAASA,IAAI,EAAEC,IAAG,QAAS,yBAAwB;AACnD,SAASC,GAAG,EAAEC,SAAS,EAAEC,eAAc,QAAS,KAAI;AACpD,SAASC,SAAQ,QAAS,cAAa;AACvC,eAAe;EACXC,OAAO,EAAE;IACL;IACAC,iBAAiBA,CAACC,CAAC,EAAE;MACjBA,CAAC,CAACC,cAAc,CAAC;MACjB;MACA;;MAEA;MACA,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ;IAC9B,CAAC;IACDC,YAAYA,CAAA,EAAG;MACX,IACI,CAAC,IAAI,CAACC,QAAO,IACb,CAAC,IAAI,CAACC,YAAW,IACjB,CAAC,IAAI,CAACC,YAAW,IACjB,CAAC,IAAI,CAACC,aAAY,EACpB;QACEX,SAAS,CAACY,KAAK,CAAC,SAAS;QACzB;MACJ;MAEA,IAAI,IAAI,CAACF,YAAW,KAAM,IAAI,CAACC,aAAa,EAAE;QAC1CX,SAAS,CAACY,KAAK,CAAC,aAAa;QAC7B;MACJ;MAEA,IAAI,CAAC,IAAI,CAACC,gBAAgB,CAAC,IAAI,CAACH,YAAY,CAAC,EAAE;QAC3CV,SAAS,CAACY,KAAK,CAAC,uBAAuB;QACvC;MACJ;MAEA,IAAI,IAAI,CAACF,YAAW,KAAM,IAAI,CAACD,YAAY,EAAE;QACzCT,SAAS,CAACY,KAAK,CAAC,aAAa;QAC7B;MACJ;;MAEA;MACAE,OAAO,CAACC,GAAG,CAAC,OAAO,EAAE;QACjBP,QAAQ,EAAE,IAAI,CAACA,QAAQ;QACvBC,YAAY,EAAE,IAAI,CAACA,YAAY;QAC/BC,YAAY,EAAE,IAAI,CAACA;MACvB,CAAC;MAEDV,SAAS,CAACgB,OAAO,CAAC,QAAQ;MAC1B,IAAI,CAACX,OAAO,CAACC,IAAI,CAAC,QAAQ;IAC9B,CAAC;IACDO,gBAAgBA,CAACI,QAAQ,EAAE;MACvB,MAAMC,KAAI,GAAI,2CAA0C;MACxD,OAAOA,KAAK,CAACC,IAAI,CAACF,QAAQ;IAC9B;EACJ,CAAC;EACDG,IAAIA,CAAA,EAAG;IACH,OAAO;MACHzB,IAAI;MACJC,IAAI;MACJY,QAAQ,EAAE,EAAE;MACZC,YAAY,EAAE,EAAE;MAChBC,YAAY,EAAE,EAAE;MAChBC,aAAa,EAAE;IACnB;EACJ,CAAC;EACDU,KAAKA,CAAA,EAAG;IACJ,MAAMC,MAAK,GAAI,CACX,oBAAoB,EACpB,oBAAoB,EACpB,oBAAoB,EACpB,oBAAoB,EACpB,oBAAoB,EACpB,oBAAmB,CACvB;IACA,MAAMC,YAAW,GAAI1B,GAAG,CAAC,CAAC;IAC1B,IAAI2B,KAAI,GAAI,IAAG;;IAEf;IACA,MAAMC,aAAY,GAAIA,CAAA,KAAM;MACxBH,MAAM,CAACI,OAAO,CAACC,GAAE,IAAK;QAClB,IAAIC,KAAK,CAAC,CAAC,CAACC,GAAE,GAAIF,GAAE;MACxB,CAAC;IACL;IAEA,MAAMG,cAAa,GAAIA,CAAA,KAAM;MACzBN,KAAI,GAAIO,WAAW,CAAC,MAAM;QACtBR,YAAY,CAACS,KAAI,GAAI,CAACT,YAAY,CAACS,KAAI,GAAI,CAAC,IAAIV,MAAM,CAACW,MAAK;MAChE,CAAC,EAAE,IAAI,GAAE;IACb;IAEAnC,SAAS,CAAC,MAAM;MACZ2B,aAAa,CAAC;MACdK,cAAc,CAAC;IACnB,CAAC;IAED/B,eAAe,CAAC,MAAM;MAClBmC,aAAa,CAACV,KAAK;IACvB,CAAC;IAED,OAAO;MACHF,MAAM;MACNC,YAAY;MACZvB;IACJ;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}